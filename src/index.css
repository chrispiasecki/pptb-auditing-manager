@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables for theming */
:root {
  /* Light mode (default) */
  --bg-1: #ffffff;
  --bg-2: #fafafa;
  --bg-3: #f5f5f5;
  --fg-1: #242424;
  --fg-2: #424242;
  --fg-3: #616161;
  --fg-4: #9e9e9e;
  --stroke-1: #e0e0e0;
  --stroke-2: #eeeeee;
  --brand-primary: #0078d4;
  --brand-primary-hover: #106ebe;
}

.dark {
  /* Dark mode */
  --bg-1: #1f1f1f;
  --bg-2: #292929;
  --bg-3: #333333;
  --fg-1: #ffffff;
  --fg-2: #e0e0e0;
  --fg-3: #a0a0a0;
  --fg-4: #707070;
  --stroke-1: #424242;
  --stroke-2: #333333;
  --brand-primary: #4db8ff;
  --brand-primary-hover: #6bc4ff;
}

@layer base {
  * {
    @apply box-border;
  }

  body {
    @apply m-0 p-0 font-sans leading-relaxed min-h-screen bg-background-1 text-foreground-1;
  }

  #root {
    @apply h-screen;
  }
}

@layer components {
  /* Button variants */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded font-medium text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600;
  }

  .btn-secondary {
    @apply btn bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600;
  }

  .btn-subtle {
    @apply btn bg-transparent hover:bg-gray-100 dark:hover:bg-gray-700;
  }

  .btn-icon {
    @apply btn p-2 min-w-0;
  }

  /* Input styles */
  .input {
    @apply w-full px-3 py-2 rounded border border-stroke-1 bg-background-1 text-foreground-1 placeholder:text-foreground-4 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .select {
    @apply input appearance-none bg-no-repeat bg-right pr-8;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-size: 1.5em 1.5em;
    background-position: right 0.5rem center;
  }

  /* Checkbox styles */
  .checkbox {
    @apply w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700;
  }

  /* Switch styles */
  .switch {
    @apply relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
  }

  .switch-enabled {
    @apply bg-blue-600;
  }

  .switch-disabled {
    @apply bg-gray-300 dark:bg-gray-600;
  }

  .switch-thumb {
    @apply inline-block h-4 w-4 transform rounded-full bg-white transition-transform;
  }

  .switch-thumb-enabled {
    @apply translate-x-6;
  }

  .switch-thumb-disabled {
    @apply translate-x-1;
  }

  /* Card styles */
  .card {
    @apply bg-background-1 rounded-lg border border-stroke-1 shadow-sm;
  }

  .card-header {
    @apply px-4 py-3 border-b border-stroke-1;
  }

  .card-body {
    @apply p-4;
  }

  /* Badge styles */
  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded text-xs font-medium;
  }

  .badge-success {
    @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200;
  }

  .badge-danger {
    @apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200;
  }

  .badge-neutral {
    @apply bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200;
  }

  .badge-outline {
    @apply border border-current bg-transparent;
  }

  /* Tab styles */
  .tab {
    @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 border-transparent text-foreground-3 hover:text-foreground-1 hover:border-gray-300 transition-colors;
  }

  .tab-active {
    @apply text-blue-600 border-blue-600 dark:text-blue-400 dark:border-blue-400;
  }

  /* Table styles */
  .table {
    @apply w-full text-sm text-left;
  }

  .table-header {
    @apply bg-background-2;
  }

  .table-header th {
    @apply px-3 py-2 font-semibold text-foreground-2 whitespace-nowrap;
  }

  .table-row {
    @apply border-b border-stroke-2 hover:bg-background-2 transition-colors;
  }

  .table-row td {
    @apply px-3 py-2;
  }

  /* Dialog/Modal styles */
  .dialog-backdrop {
    @apply fixed inset-0 bg-black/40 z-40;
  }

  .dialog {
    @apply fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 bg-background-1 rounded-lg shadow-xl max-w-2xl w-[90vw] max-h-[90vh] overflow-hidden;
  }

  .dialog-header {
    @apply flex items-center justify-between px-6 py-4 border-b border-stroke-1;
  }

  .dialog-body {
    @apply px-6 py-4 overflow-y-auto max-h-[60vh];
  }

  .dialog-footer {
    @apply flex items-center justify-end gap-2 px-6 py-4 border-t border-stroke-1;
  }

  /* Toolbar styles */
  .toolbar {
    @apply flex items-center gap-2 px-4 py-2 border-b border-stroke-1 bg-background-2;
  }

  /* Spinner */
  .spinner {
    @apply animate-spin rounded-full border-2 border-current border-t-transparent;
  }

  .spinner-sm {
    @apply w-4 h-4;
  }

  .spinner-md {
    @apply w-6 h-6;
  }

  .spinner-lg {
    @apply w-8 h-8;
  }

  /* Dropdown/Menu styles */
  .dropdown-menu {
    @apply absolute z-50 mt-1 bg-background-1 border border-stroke-1 rounded-lg shadow-lg py-1 min-w-[160px];
  }

  .dropdown-item {
    @apply flex items-center gap-2 px-4 py-2 text-sm text-foreground-1 hover:bg-background-2 cursor-pointer;
  }

  .dropdown-item-disabled {
    @apply opacity-50 cursor-not-allowed hover:bg-transparent;
  }

  .dropdown-divider {
    @apply my-1 border-t border-stroke-1;
  }

  /* Tooltip styles */
  .tooltip {
    @apply absolute z-50 px-2 py-1 text-xs bg-gray-900 text-white rounded shadow-lg dark:bg-gray-700;
  }

  /* Tag styles */
  .tag {
    @apply inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs bg-background-3 text-foreground-2;
  }

  .tag-dismissible {
    @apply pr-1;
  }

  .tag-dismiss-btn {
    @apply p-0.5 rounded hover:bg-gray-300 dark:hover:bg-gray-600;
  }

  /* Popover styles */
  .popover {
    @apply absolute z-50 bg-background-1 border border-stroke-1 rounded-lg shadow-lg p-4;
  }
}

@layer utilities {
  .text-truncate {
    @apply overflow-hidden text-ellipsis whitespace-nowrap;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }
}
